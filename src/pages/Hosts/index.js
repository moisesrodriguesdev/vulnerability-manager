import React, { useEffect, useState } from "react";
import Table from "./../../Components/Table";
import { FiSearch } from "react-icons/fi";
import api from "./../../services/api";

const head = {
  ID: "ID",
  created: "Criado",
  modified: "Modificado",
  hostname: "Nome",
  ip_address: "EndereÃ§o IP",
  risk: "Risco",
  vuln_count: "Qtd de vulnerabilidades",
};

const Hosts = () => {
  const [assets, setAssets] = useState([]);

  const token = "Token 91f052c60fe5c0c4b6fa323e6bb050c8eef2de68";

  useEffect(() => {
    async function getAllAssets() {
      const response = await api.get("assets", {
        headers: {
          Authorization: token,
        },
      });

      setAssets(response.data);
    }

    getAllAssets();
  }, []);
  return (
    <>
      <input type="text" />
      <button type="button" className="button">
        <FiSearch />
      </button>
      <Table data={assets.results} head={head} />
    </>
  );
};

export default Hosts;
