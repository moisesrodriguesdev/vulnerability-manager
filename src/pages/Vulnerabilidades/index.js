import React, { useEffect, useState } from "react";
import Table from "./../../Components/Table";
import api from "./../../services/api";
import { FiSearch } from "react-icons/fi";

const head = {
  id: "ID",
  title: "TÃ­tulo",
  severity: "Severidade",
  cvss: "CVSS",
  publication_date: "Data",
  asset_count: "Quantidade",
};

const Vulnerabilidade = () => {
  const [vulnerabilidade, setVulnerabilidade] = useState([]);

  const token = "Token 91f052c60fe5c0c4b6fa323e6bb050c8eef2de68";

  useEffect(() => {
    async function getAllAssets() {
      const response = await api.get("vulnerabilities", {
        headers: {
          Authorization: token,
        },
      });

      setVulnerabilidade(response.data);
    }

    getAllAssets();
  }, []);
  return (
    <>
      <input type="text" />
      <button type="button" className="button">
        <FiSearch />
      </button>
      <Table data={vulnerabilidade.results} head={head} />
    </>
  );
};

export default Vulnerabilidade;
